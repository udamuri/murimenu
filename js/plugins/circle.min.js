(function ( $ ) {
	$.fn.murimenu = function( options ) {
		
		var settings = $.extend({
			position:'left-bottom',
			button:[],
		}, options );

		return this.each(function () {
			var obj = $(this);
			var positionX = 'position_bottom_left';
			if(settings.position == 'left-bottom')
			{	
				positionX = 'position_bottom_left';
			}
			
			var html =  '<div id="xcontainer" class="container" >'+
							//'<div class="pie-check"></div>'+
							'<div id="btn-home" class="btn_center_bottom_left btn_menu_home plus_bg" open_menu="0"></div>'+
						'</div>';
			obj.addClass(positionX);
			obj.html(html);
			button();
			
			
			$('#btn-home').on('click',function(){
				
				if(settings.position == 'left-bottom')
				{	
					var attrClass = obj.attr('class');
					var axClass = 'position_bottom_left_show';
					if(attrClass == axClass)
					{
						obj.removeClass(axClass);
						obj.addClass(positionX);
						animate_btn(1);
						$(this).removeClass('close_bg');
						$(this).addClass('plus_bg');
					}
					else
					{
						obj.removeClass(positionX);
						obj.addClass(axClass);
						animate_btn(0);
						$(this).removeClass('plus_bg');
						$(this).addClass('close_bg');
					}
				}
			});
			
			function button()
			{
				if(settings.button.length > 0)
				{
					var btn = '';
					var arrData = settings.button;
					for(var i=0;i<arrData.length;i++)
					{
						if(i<6)
						{
							btn += '<div id="btn-custom-'+i+'" class="btn_center_bottom_left btn_custom '+arrData[i][0]+'" url="'+arrData[i][1]+'"></div>';
						}
					
					}
					$('#xcontainer').append(btn);
					
					$('.btn_custom').unbind('click');
					$('.btn_custom').on('click',function(){
						var url = $(this).attr('url');
						window.open(url,'_blank');
					});
				}
			}
			
			function animate_btn(id)
			{
				if(id == 0)
				{
					var timer = 600;
					$('.btn_custom').show();
					$('#btn-custom-0').animate({bottom:'120px',left:'0'},timer); // 0 
					$('#btn-custom-1').animate({bottom:'112px',left:'32px'},timer); // + 8
					$('#btn-custom-2').animate({bottom:'96px',left:'62px'},timer); // 8 + 
					$('#btn-custom-3').animate({bottom:'73px',left:'88px'},timer); // 8 + 
					$('#btn-custom-4').animate({bottom:'44px',left:'105px'},timer); // 8 + 
					$('#btn-custom-5').animate({bottom:'10px',left:'117px'},timer); // 8 + 
				}
				else if(id == 1)
				{
					$('.btn_custom').animate({bottom:'0',left:'0'},timer,function(){
						$(this).hide();
					});
				}
			}
		
		});
	};
}( jQuery ));


