(function ( $ ) {
	$.fn.sunflower = function( options ) {
		
		var settings = $.extend({
			color: "#556b2f",
			position:'left-bottom',
			backgroundColor: "white",
			button:[],
		}, options );

		return this.each(function () {
			var obj = $(this);
			var positionX = 'left_bootm_container';
			var positionY = 'left_bootm_container_set';
			if(settings.position == 'left-bottom')
			{	
				positionX = 'left_bootm_container';
				positionY = 'left_bootm_container_set';
			}
			
			var html =  '<div id="xcontainer" class="'+positionY+'" >'+ 
							'<button id="button-home" class="button-home-bottom-left" ></button>';
						'</div>';
			obj.addClass(positionX);
			obj.html(html);
			
		
			$('#button-home').on('click',function(){
				if(settings.position == 'left-bottom')
				{
					var attrClass = obj.attr('class');
					var axClass = 'left_bootm_container_large';
					if(attrClass == axClass)
					{
						for(var i=0;i<4;i++)
						{
							var timer = (i+1)*300;
							$('#btn-'+i).animate({left:'0',top:'110px'},timer);
						}
						
						setTimeout(function(){
							obj.removeClass(axClass);
							obj.addClass(positionX);
							$('.button-home-bottom-left-0').remove();
						}, 1210);
						
					}
					else
					{
						obj.removeClass(positionX);
						obj.addClass(axClass);
						if(settings.button.length > 0)
						{
							var arrData = settings.button;
							for(var i=0;i<arrData.length;i++)
							{
								if(i<4)
								{
									classX = '';
									if(arrData[i][0] == 'facebook')
									{
										classX = 'fb';
									}
									if(arrData[i][0] == 'twitter')
									{
										classX = 'tw';
									}
									if(arrData[i][0] == 'googleplus')
									{
										classX = 'gp';
									}
									if(arrData[i][0] == 'youtube')
									{
										classX = 'yt';
									}
									var btn = '<button id="btn-'+i+'" url="'+arrData[i][1]+'" class="button-home-bottom-left-0 '+classX+'"></button>';
									$('#xcontainer').append(btn);
									var timer = (i+1)*300;
									var left_p = (i * 33);
									var top_p = 0;
									if(i==2){left_p=53;top_p=25;}
									if(i==3){left_p=51;top_p=57;}
									$('#btn-'+i).animate({left:left_p+'px',top:top_p+'px'},timer);
								}
							}
						}
					}
					
					$('.button-home-bottom-left-0').unbind('click');
					$('.button-home-bottom-left-0').on('click',function(){
						var url = $(this).attr('url');
						window.open(url,'_blank');
					})
				}
			});
		});
	};
}( jQuery ));


